{"remainingRequest":"/Users/liuce/ailin-web/frontend/node_modules/babel-loader/lib/index.js!/Users/liuce/ailin-web/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/liuce/ailin-web/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuce/ailin-web/frontend/src/components/StatusBar.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/liuce/ailin-web/frontend/src/components/StatusBar.vue","mtime":1755365490496},{"path":"/Users/liuce/ailin-web/frontend/babel.config.js","mtime":1755361438467},{"path":"/Users/liuce/ailin-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1755361481208},{"path":"/Users/liuce/ailin-web/frontend/node_modules/babel-loader/lib/index.js","mtime":1755361481592},{"path":"/Users/liuce/ailin-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1755361481208},{"path":"/Users/liuce/ailin-web/frontend/node_modules/vue-loader/lib/index.js","mtime":1755361481658}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTdGF0dXNCYXInLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cGRhdGVUaW1lOiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbJ3dzQ29ubmVjdGVkJ10pLAogICAgLi4ubWFwR2V0dGVycyhbJ2RldmljZUNvdW50JywgJ29ubGluZURldmljZUNvdW50J10pLAogICAgc3RhdHVzVGV4dCgpIHsKICAgICAgcmV0dXJuIHRoaXMud3NDb25uZWN0ZWQgPyAn5q2j5bi4JyA6ICfmlq3lvIAnOwogICAgfSwKICAgIHN0YXR1c0NvbG9yKCkgewogICAgICByZXR1cm4gdGhpcy53c0Nvbm5lY3RlZCA/ICcjNTJjNDFhJyA6ICcjZjUyMjJkJzsKICAgIH0sCiAgICB0b3RhbENvdW50KCkgewogICAgICByZXR1cm4gdGhpcy5kZXZpY2VDb3VudDsKICAgIH0sCiAgICBvbmxpbmVDb3VudCgpIHsKICAgICAgcmV0dXJuIHRoaXMub25saW5lRGV2aWNlQ291bnQ7CiAgICB9LAogICAgb2ZmbGluZUNvdW50KCkgewogICAgICByZXR1cm4gdGhpcy5kZXZpY2VDb3VudCAtIHRoaXMub25saW5lRGV2aWNlQ291bnQ7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy51cGRhdGVDdXJyZW50VGltZSgpOwogICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMudXBkYXRlQ3VycmVudFRpbWUsIDEwMDApOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLnRpbWVyKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVDdXJyZW50VGltZSgpIHsKICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy51cGRhdGVUaW1lID0gbm93LnRvTG9jYWxlU3RyaW5nKCd6aC1DTicsIHsKICAgICAgICB5ZWFyOiAnbnVtZXJpYycsCiAgICAgICAgbW9udGg6ICcyLWRpZ2l0JywKICAgICAgICBkYXk6ICcyLWRpZ2l0JywKICAgICAgICBob3VyOiAnMi1kaWdpdCcsCiAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsCiAgICAgICAgc2Vjb25kOiAnMi1kaWdpdCcKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapState","mapGetters","name","data","updateTime","computed","statusText","wsConnected","statusColor","totalCount","deviceCount","onlineCount","onlineDeviceCount","offlineCount","mounted","updateCurrentTime","timer","setInterval","beforeDestroy","clearInterval","methods","now","Date","toLocaleString","year","month","day","hour","minute","second"],"sources":["src/components/StatusBar.vue"],"sourcesContent":["<template>\n  <div class=\"status-bar\">\n    <div class=\"status-left\">\n      <span class=\"status-item\">\n        状态: \n        <span class=\"status-value\" :style=\"{ color: statusColor }\">{{ statusText }}</span>\n      </span>\n      \n      <span class=\"status-item\">\n        在线设备: \n        <span class=\"status-value success\">{{ onlineCount }}</span>\n      </span>\n      \n      <span class=\"status-item\">\n        离线设备: \n        <span class=\"status-value error\">{{ offlineCount }}</span>\n      </span>\n      \n      <span class=\"status-item\">\n        总设备数: \n        <span class=\"status-value\">{{ totalCount }}</span>\n      </span>\n    </div>\n    \n    <div class=\"status-right\">\n      <span class=\"status-item\">\n        刷新时间: {{ updateTime }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\n\nexport default {\n  name: 'StatusBar',\n  \n  data() {\n    return {\n      updateTime: ''\n    }\n  },\n  \n  computed: {\n    ...mapState(['wsConnected']),\n    ...mapGetters(['deviceCount', 'onlineDeviceCount']),\n    \n    statusText() {\n      return this.wsConnected ? '正常' : '断开'\n    },\n    \n    statusColor() {\n      return this.wsConnected ? '#52c41a' : '#f5222d'\n    },\n    \n    totalCount() {\n      return this.deviceCount\n    },\n    \n    onlineCount() {\n      return this.onlineDeviceCount\n    },\n    \n    offlineCount() {\n      return this.deviceCount - this.onlineDeviceCount\n    }\n  },\n  \n  mounted() {\n    this.updateCurrentTime()\n    this.timer = setInterval(this.updateCurrentTime, 1000)\n  },\n  \n  beforeDestroy() {\n    if (this.timer) {\n      clearInterval(this.timer)\n    }\n  },\n  \n  methods: {\n    updateCurrentTime() {\n      const now = new Date()\n      this.updateTime = now.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.status-bar {\n  height: 32px;\n  background: #f0f0f0;\n  border-top: 1px solid #d9d9d9;\n  padding: 0 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 12px;\n  color: #666;\n}\n\n.status-left {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n.status-right {\n  display: flex;\n  align-items: center;\n}\n\n.status-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.status-value {\n  font-weight: 600;\n  color: #262626;\n}\n\n.status-value.success {\n  color: #52c41a;\n}\n\n.status-value.error {\n  color: #f5222d;\n}\n\n@media (max-width: 768px) {\n  .status-bar {\n    flex-direction: column;\n    height: auto;\n    padding: 8px 16px;\n    gap: 4px;\n  }\n  \n  .status-left {\n    flex-wrap: wrap;\n    gap: 12px;\n  }\n}\n</style>"],"mappings":"AAiCA,SAAAA,QAAA,EAAAC,UAAA;AAEA;EACAC,IAAA;EAEAC,KAAA;IACA;MACAC,UAAA;IACA;EACA;EAEAC,QAAA;IACA,GAAAL,QAAA;IACA,GAAAC,UAAA;IAEAK,WAAA;MACA,YAAAC,WAAA;IACA;IAEAC,YAAA;MACA,YAAAD,WAAA;IACA;IAEAE,WAAA;MACA,YAAAC,WAAA;IACA;IAEAC,YAAA;MACA,YAAAC,iBAAA;IACA;IAEAC,aAAA;MACA,YAAAH,WAAA,QAAAE,iBAAA;IACA;EACA;EAEAE,QAAA;IACA,KAAAC,iBAAA;IACA,KAAAC,KAAA,GAAAC,WAAA,MAAAF,iBAAA;EACA;EAEAG,cAAA;IACA,SAAAF,KAAA;MACAG,aAAA,MAAAH,KAAA;IACA;EACA;EAEAI,OAAA;IACAL,kBAAA;MACA,MAAAM,GAAA,OAAAC,IAAA;MACA,KAAAlB,UAAA,GAAAiB,GAAA,CAAAE,cAAA;QACAC,IAAA;QACAC,KAAA;QACAC,GAAA;QACAC,IAAA;QACAC,MAAA;QACAC,MAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}