{"remainingRequest":"/Users/liuce/ailin-web/frontend/node_modules/babel-loader/lib/index.js!/Users/liuce/ailin-web/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/liuce/ailin-web/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuce/ailin-web/frontend/src/components/DeviceListItem.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/liuce/ailin-web/frontend/src/components/DeviceListItem.vue","mtime":1755363314847},{"path":"/Users/liuce/ailin-web/frontend/babel.config.js","mtime":1755361438467},{"path":"/Users/liuce/ailin-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1755361481208},{"path":"/Users/liuce/ailin-web/frontend/node_modules/babel-loader/lib/index.js","mtime":1755361481592},{"path":"/Users/liuce/ailin-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1755361481208},{"path":"/Users/liuce/ailin-web/frontend/node_modules/vue-loader/lib/index.js","mtime":1755361481658}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEZXZpY2VMaXN0SXRlbScsCiAgcHJvcHM6IHsKICAgIGRldmljZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgc2VsZWN0ZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdGF0dXNDbGFzcygpIHsKICAgICAgaWYgKHRoaXMuZGV2aWNlLmNvbm5lY3RlZCkgewogICAgICAgIHJldHVybiAnc3RhdHVzLW9ubGluZSc7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5kZXZpY2Uuc3RhdHVzID09PSAnY29ubmVjdGluZycpIHsKICAgICAgICByZXR1cm4gJ3N0YXR1cy1jb25uZWN0aW5nJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ3N0YXR1cy1vZmZsaW5lJzsKICAgICAgfQogICAgfSwKICAgIHN0YXR1c1RleHQoKSB7CiAgICAgIGlmICh0aGlzLmRldmljZS5jb25uZWN0ZWQpIHsKICAgICAgICByZXR1cm4gJ+WcqOe6vyc7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5kZXZpY2Uuc3RhdHVzID09PSAnY29ubmVjdGluZycpIHsKICAgICAgICByZXR1cm4gJ+i/nuaOpeS4rSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICfnprvnur8nOwogICAgICB9CiAgICB9LAogICAgbGFzdFVwZGF0ZVRleHQoKSB7CiAgICAgIGlmICghdGhpcy5kZXZpY2UubGFzdFVwZGF0ZSkgewogICAgICAgIHJldHVybiAn5LuO5pyq5pu05pawJzsKICAgICAgfQogICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpOwogICAgICBjb25zdCBkaWZmID0gbm93IC0gdGhpcy5kZXZpY2UubGFzdFVwZGF0ZTsKICAgICAgaWYgKGRpZmYgPCAxMDAwKSB7CiAgICAgICAgcmV0dXJuICfliJrliJonOwogICAgICB9IGVsc2UgaWYgKGRpZmYgPCA2MDAwMCkgewogICAgICAgIHJldHVybiBgJHtNYXRoLmZsb29yKGRpZmYgLyAxMDAwKX1z5YmNYDsKICAgICAgfSBlbHNlIGlmIChkaWZmIDwgMzYwMDAwMCkgewogICAgICAgIHJldHVybiBgJHtNYXRoLmZsb29yKGRpZmYgLyA2MDAwMCl9beWJjWA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMuZGV2aWNlLmxhc3RVcGRhdGUpLnRvTG9jYWxlVGltZVN0cmluZygpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTZWxlY3QoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdCcsIHRoaXMuZGV2aWNlKTsKICAgIH0sCiAgICBoYW5kbGVDb21tYW5kKGNvbW1hbmQpIHsKICAgICAgc3dpdGNoIChjb21tYW5kKSB7CiAgICAgICAgY2FzZSAncmVtb3ZlJzoKICAgICAgICAgIHRoaXMuJGVtaXQoJ3JlbW92ZScsIHRoaXMuZGV2aWNlLmlkKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["name","props","device","type","Object","required","selected","Boolean","default","computed","statusClass","connected","status","statusText","lastUpdateText","lastUpdate","now","Date","diff","Math","floor","toLocaleTimeString","methods","handleSelect","$emit","handleCommand","command","id"],"sources":["src/components/DeviceListItem.vue"],"sourcesContent":["<template>\n  <div \n    class=\"device-list-item\"\n    :class=\"{ \n      'selected': selected, \n      'online': device.connected,\n      'offline': !device.connected \n    }\"\n    @click=\"handleSelect\"\n  >\n    <div class=\"device-info\">\n      <div class=\"device-header\">\n        <span class=\"device-number\">{{ String(device.id).padStart(2, '0') }}</span>\n        <span class=\"device-group\">组{{ Math.ceil(device.id / 5) }}</span>\n        <div class=\"device-actions\">\n          <el-dropdown @command=\"handleCommand\" trigger=\"click\">\n            <el-button type=\"text\" icon=\"el-icon-more\" size=\"mini\"></el-button>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"remove\">移除设备</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n      </div>\n      \n      <div class=\"device-details\">\n        <div class=\"device-ip\">{{ device.ip }}:{{ device.port }}</div>\n        <div class=\"device-status\">\n          <span class=\"status-dot\" :class=\"statusClass\"></span>\n          <span class=\"status-text\">{{ statusText }}</span>\n        </div>\n      </div>\n      \n      <div class=\"device-stats\" v-if=\"device.connected\">\n        <span class=\"stat-item\">\n          <i class=\"el-icon-time\"></i>\n          {{ lastUpdateText }}\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DeviceListItem',\n  \n  props: {\n    device: {\n      type: Object,\n      required: true\n    },\n    selected: {\n      type: Boolean,\n      default: false\n    }\n  },\n  \n  computed: {\n    statusClass() {\n      if (this.device.connected) {\n        return 'status-online'\n      } else if (this.device.status === 'connecting') {\n        return 'status-connecting'\n      } else {\n        return 'status-offline'\n      }\n    },\n    \n    statusText() {\n      if (this.device.connected) {\n        return '在线'\n      } else if (this.device.status === 'connecting') {\n        return '连接中'\n      } else {\n        return '离线'\n      }\n    },\n    \n    lastUpdateText() {\n      if (!this.device.lastUpdate) {\n        return '从未更新'\n      }\n      \n      const now = Date.now()\n      const diff = now - this.device.lastUpdate\n      \n      if (diff < 1000) {\n        return '刚刚'\n      } else if (diff < 60000) {\n        return `${Math.floor(diff / 1000)}s前`\n      } else if (diff < 3600000) {\n        return `${Math.floor(diff / 60000)}m前`\n      } else {\n        return new Date(this.device.lastUpdate).toLocaleTimeString()\n      }\n    }\n  },\n  \n  methods: {\n    handleSelect() {\n      this.$emit('select', this.device)\n    },\n    \n    handleCommand(command) {\n      switch (command) {\n        case 'remove':\n          this.$emit('remove', this.device.id)\n          break\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.device-list-item {\n  margin: 0 8px 4px 8px;\n  padding: 12px;\n  background: white;\n  border: 1px solid #f0f0f0;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  position: relative;\n}\n\n.device-list-item:hover {\n  border-color: #d9d9d9;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n.device-list-item.selected {\n  border-color: #1890ff;\n  background: #f6ffed;\n  box-shadow: 0 2px 8px rgba(24, 144, 255, 0.2);\n}\n\n.device-list-item.online {\n  border-left: 4px solid #52c41a;\n}\n\n.device-list-item.offline {\n  border-left: 4px solid #f5222d;\n}\n\n.device-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.device-number {\n  background: #1890ff;\n  color: white;\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-weight: 600;\n  font-family: 'Courier New', monospace;\n  margin-right: 8px;\n  min-width: 32px;\n  text-align: center;\n}\n\n.device-group {\n  background: #f5f5f5;\n  color: #666;\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-size: 11px;\n  margin-right: auto;\n}\n\n.device-actions {\n  opacity: 0;\n  transition: opacity 0.2s ease;\n}\n\n.device-list-item:hover .device-actions {\n  opacity: 1;\n}\n\n.device-details {\n  margin-bottom: 8px;\n}\n\n.device-ip {\n  font-size: 12px;\n  color: #666;\n  font-family: 'Courier New', monospace;\n  margin-bottom: 4px;\n}\n\n.device-status {\n  display: flex;\n  align-items: center;\n}\n\n.status-dot {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  margin-right: 6px;\n}\n\n.status-dot.status-online {\n  background-color: #52c41a;\n}\n\n.status-dot.status-offline {\n  background-color: #f5222d;\n}\n\n.status-dot.status-connecting {\n  background-color: #faad14;\n  animation: pulse 1.5s infinite;\n}\n\n.status-text {\n  font-size: 11px;\n  color: #666;\n  font-weight: 500;\n}\n\n.device-stats {\n  border-top: 1px solid #f5f5f5;\n  padding-top: 6px;\n  margin-top: 6px;\n}\n\n.stat-item {\n  font-size: 10px;\n  color: #999;\n  display: flex;\n  align-items: center;\n}\n\n.stat-item i {\n  margin-right: 4px;\n  font-size: 10px;\n}\n\n@keyframes pulse {\n  0% { opacity: 1; }\n  50% { opacity: 0.5; }\n  100% { opacity: 1; }\n}\n</style>"],"mappings":"AA2CA;EACAA,IAAA;EAEAC,KAAA;IACAC,MAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IACAC,QAAA;MACAH,IAAA,EAAAI,OAAA;MACAC,OAAA;IACA;EACA;EAEAC,QAAA;IACAC,YAAA;MACA,SAAAR,MAAA,CAAAS,SAAA;QACA;MACA,gBAAAT,MAAA,CAAAU,MAAA;QACA;MACA;QACA;MACA;IACA;IAEAC,WAAA;MACA,SAAAX,MAAA,CAAAS,SAAA;QACA;MACA,gBAAAT,MAAA,CAAAU,MAAA;QACA;MACA;QACA;MACA;IACA;IAEAE,eAAA;MACA,UAAAZ,MAAA,CAAAa,UAAA;QACA;MACA;MAEA,MAAAC,GAAA,GAAAC,IAAA,CAAAD,GAAA;MACA,MAAAE,IAAA,GAAAF,GAAA,QAAAd,MAAA,CAAAa,UAAA;MAEA,IAAAG,IAAA;QACA;MACA,WAAAA,IAAA;QACA,UAAAC,IAAA,CAAAC,KAAA,CAAAF,IAAA;MACA,WAAAA,IAAA;QACA,UAAAC,IAAA,CAAAC,KAAA,CAAAF,IAAA;MACA;QACA,WAAAD,IAAA,MAAAf,MAAA,CAAAa,UAAA,EAAAM,kBAAA;MACA;IACA;EACA;EAEAC,OAAA;IACAC,aAAA;MACA,KAAAC,KAAA,gBAAAtB,MAAA;IACA;IAEAuB,cAAAC,OAAA;MACA,QAAAA,OAAA;QACA;UACA,KAAAF,KAAA,gBAAAtB,MAAA,CAAAyB,EAAA;UACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}